<div *ngIf="!loading">
  <h2 style="color: brown;">Menu Items Overview</h2>

  <button (click)="showAddMenuItemModal()" class="action-button">Add New Menu Item</button>

  <!-- Notification Card -->
  <div *ngIf="notificationMessage" class="notification-card shake">
    {{ notificationMessage }}
  </div>

  <table class="user-table">
    <thead>
      <tr>
        <th>Name</th>
        <th>Price</th>
        <th>Description</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let menuItem of displayedMenuItems">
        <td>{{ menuItem.itemName }}</td>
        <td>₹.{{ menuItem.price }}</td>
        <td>{{ menuItem.description }}</td>
        <td>
          <button (click)="viewDetails(menuItem)" class="action-button">View</button>
          <button (click)="deleteMenuItem(menuItem)" class="action-button">Delete</button>
        </td>
      </tr>
    </tbody>
  </table>

<!-- Pagination Controls -->
<div class="pagination-controls">
  <button (click)="previousPage()" [disabled]="currentPage === 1">Previous</button>
  <span>Page {{ currentPage }} of {{ totalPages }}</span>
  <button (click)="nextPage()" [disabled]="currentPage === totalPages">Next</button>
</div>
<!-- Menu Item Details Modal -->
<div *ngIf="selectedMenuItem" class="modal">
  <div class="modal-content card">
    <span (click)="closeMenuItemDetails()" class="close-button">&times;</span>
    <h3>Menu Item Details</h3>

    <p><strong>Name:</strong> {{ selectedMenuItem.itemName }}</p>
    <p><strong>Description:</strong> {{ selectedMenuItem.description }}</p>
    <p><strong>Category:</strong> {{ selectedMenuItem.category }}</p>
    <p><strong>Price:</strong> ₹{{ selectedMenuItem.price }}</p>
    <p><strong>Special Dietary Info:</strong> {{ selectedMenuItem.specialDietaryInfo }}</p>
    <p><strong>Taste Info:</strong> {{ selectedMenuItem.tasteInfo }}</p>
    <p><strong>Nutritional Info:</strong> {{ selectedMenuItem.nutritionalInfo }}</p>
    <p><strong>Availability Time:</strong> {{ selectedMenuItem.availabilityTime }}</p>
    <p><strong>In Stock:</strong> {{ selectedMenuItem.isInStock ? 'Yes' : 'No' }}</p>
    <p><strong>Is Available:</strong> {{ selectedMenuItem.isAvailable ? 'Yes' : 'No' }}</p>
    <p><strong>Discounts:</strong> {{ selectedMenuItem.discounts }}%</p>
    <p><strong>Image URL:</strong> <a [href]="selectedMenuItem.imageUrl" target="_blank">{{ selectedMenuItem.imageUrl }}</a></p>
    <p><strong>Created Date:</strong> {{ selectedMenuItem.createdDate | date }}</p>

    <button (click)="closeMenuItemDetails()" class="action-button">Close</button>
  </div>
</div>


  <!-- Add Menu Item Modal -->
  <div *ngIf="isAddMenuItemModalOpen" class="modal">
    <div class="modal-content card">
      <span (click)="closeAddMenuItemModal()" class="close-button">&times;</span>
      <h3>Add Menu Item</h3>
      <form [formGroup]="addMenuItemForm" (ngSubmit)="createMenuItem()">
        <label for="name">Name:</label>
        <input type="text" id="name" formControlName="name" required>

        <label for="price">Price:</label>
        <input type="number" id="price" formControlName="price" required>

        <label for="description">Description:</label>
        <textarea id="description" formControlName="description" required></textarea>

        <label for="imageUrl">Image URL:</label>
        <input type="text" id="imageUrl" formControlName="imageUrl" required>

        <button type="submit" class="action-button" [disabled]="addMenuItemForm.invalid">Add Menu Item</button>
        <button type="button" (click)="closeAddMenuItemModal()" class="action-button">Cancel</button>
      </form>
    </div>
  </div>
</div>

<div *ngIf="loading" class="loading-spinner">
  Loading...
</div>
